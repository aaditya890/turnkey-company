<app-navbar></app-navbar>

<!-- Improved responsive hero section with mobile optimization -->
<div class="relative w-full h-screen overflow-hidden bg-gray-900">
  <!-- Slides Container -->
  <div class="relative w-full h-full">
    <!-- Dynamic Slides -->
    <div *ngFor="let slide of slides; let i = index"
      class="absolute inset-0 w-full h-full bg-cover bg-center bg-no-repeat transition-opacity duration-1000 ease-in-out"
      [ngClass]="currentSlide === i ? 'opacity-100 z-10' : 'opacity-0 z-0'"
      [style.background-image]="'url(' + (isMobile ? slide.mobileImage : slide.desktopImage) + ')'"
      [attr.aria-hidden]="currentSlide !== i">

      <!-- Gradient Overlay for better contrast -->
      <div class="absolute inset-0 bg-gradient-to-t from-black/40 via-transparent to-transparent"></div>

      <!-- Content Container - Positioned at bottom on mobile, centered on desktop -->
      <div
        class="relative z-10 h-full flex flex-col justify-end sm:justify-end items-center px-4 sm:px-6 md:px-8 pb-24 sm:pb-32 md:pb-28">
        <!-- CTA Button with dynamic text per slide -->
        <button (click)="onBookConsultation()"
          class="group relative px-6 sm:px-10 md:px-12 py-3 sm:py-4 bg-gradient-to-r from-[#D4894E] to-[#c57d46] text-white text-sm sm:text-base md:text-lg font-semibold rounded-full shadow-2xl overflow-hidden transition-all duration-300 hover:shadow-[#D4894E]/50 hover:shadow-2xl hover:scale-105 active:scale-95 focus:outline-none focus:ring-4 focus:ring-[#D4894E]/50 w-full sm:w-auto max-w-xs sm:max-w-sm"
          [attr.aria-label]="slide.buttonText">
          <span class="relative z-10 flex items-center justify-center gap-2 sm:gap-3">
            <!-- Mobile: Short text, Desktop: Full text -->
            <span class="hidden sm:inline">{{ slide.buttonText }}</span>
            <span class="sm:hidden">{{ slide.buttonText === 'CALCULATE NOW' ? 'CALCULATE' : 'BOOK NOW' }}</span>
            <svg class="w-4 h-4 sm:w-5 sm:h-5 transition-transform duration-300 group-hover:translate-x-1" fill="none"
              stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3" />
            </svg>
          </span>
          <!-- Hover effect overlay -->
          <div
            class="absolute inset-0 bg-gradient-to-r from-[#c57d46] to-[#b36a38] opacity-0 group-hover:opacity-100 transition-opacity duration-300">
          </div>
        </button>
      </div>
    </div>
  </div>

  <!-- Navigation Arrows - Hidden on mobile, visible on desktop -->
  <button (click)="previousSlide()"
    class="hidden sm:flex absolute left-3 md:left-6 lg:left-8 top-1/2 -translate-y-1/2 z-20 items-center justify-center w-10 h-10 md:w-12 md:h-12 bg-white/70 backdrop-blur-sm rounded-full hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-white/50"
    aria-label="Previous slide">
    <svg class="w-5 h-5 md:w-6 md:h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M15 19l-7-7 7-7" />
    </svg>
  </button>

  <button (click)="nextSlide()"
    class="hidden sm:flex absolute right-3 md:right-6 lg:right-8 top-1/2 -translate-y-1/2 z-20 items-center justify-center w-10 h-10 md:w-12 md:h-12 bg-white/70 backdrop-blur-sm rounded-full hover:bg-white/90 transition-all duration-300 shadow-lg hover:shadow-xl focus:outline-none focus:ring-4 focus:ring-white/50"
    aria-label="Next slide">
    <svg class="w-5 h-5 md:w-6 md:h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M9 5l7 7-7 7" />
    </svg>
  </button>

  <!-- Slide Indicators - Responsive sizing -->
  <div class="absolute bottom-6 sm:bottom-10 md:bottom-12 left-1/2 -translate-x-1/2 z-20 flex items-center gap-2">
    <button *ngFor="let slide of slides; let i = index" (click)="goToSlide(i)"
      class="transition-all duration-300 rounded-full focus:outline-none focus:ring-2 focus:ring-white/70"
      [ngClass]="currentSlide === i ? 'w-8 sm:w-10 md:w-12 h-2 sm:h-2.5 md:h-3 bg-[#D4894E]' : 'w-2 sm:w-2.5 md:w-3 h-2 sm:h-2.5 md:h-3 bg-white/60 hover:bg-white/80'"
      [attr.aria-label]="'Go to slide ' + (i + 1)" [attr.aria-current]="currentSlide === i ? 'true' : 'false'">
    </button>
  </div>

  <!-- Loading indicator for images (optional enhancement) -->
  <div class="absolute inset-0 bg-gray-900 z-0" aria-hidden="true"></div>
</div>