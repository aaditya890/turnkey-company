<section 
  class="relative py-20 px-6 md:px-14 lg:px-20 mx-auto max-w-[1300px] overflow-x-hidden"
  role="region" 
  aria-label="Customer testimonials carousel">

  <!-- ⭐ PREMIUM GRID PATTERN BACKDROP -->
  <div 
    class="absolute inset-0 z-0 pointer-events-none"
    style="
      background-image:
        linear-gradient(to right, #e7e5e4 1px, transparent 1px),
        linear-gradient(to bottom, #e7e5e4 1px, transparent 1px);
      background-size: 40px 40px;

      mask-image:
        radial-gradient(circle at center, black 45%, transparent 75%);
      -webkit-mask-image:
        radial-gradient(circle at center, black 45%, transparent 75%);

      opacity: 0.30;
    ">
  </div>

  <!-- Heading -->
  <div class="relative z-10 text-center mb-12">
    <h2 class="text-3xl md:text-4xl lg:text-5xl font-light text-[#2C2327]">
      Don't take our word for it! <br />
      <span class="font-semibold text-[#D4894E] text-[20px] md:text-4xl lg:text-5xl">
        Hear what our Customers say
      </span>
    </h2>
    <p class="text-gray-500 mt-3 text-sm md:text-base">
      With over 100k+ clients served, here's what they have to say
    </p>
  </div>

  <!-- Slider -->
  <div 
    class="relative z-10 flex items-center justify-center gap-6 md:gap-10" 
    role="group" 
    aria-roledescription="carousel">

    <ng-container *ngFor="let t of visibleTestimonials; let i = index">
      <article
        class="flex-none w-[350px] sm:w-[300px] md:w-[360px] lg:w-[420px]
               rounded-3xl border border-gray-100 bg-white transition-all duration-300"
        [ngClass]="getTestimonialClass(i)"
        [attr.aria-hidden]="i !== 1"
        role="tabpanel"
      >
        <div class="text-[#f3c29e] text-4xl md:text-5xl mb-4" aria-hidden="true">"</div>
        <p class="text-gray-700 leading-relaxed text-sm md:text-base mb-6">
          {{ t.text }}
        </p>

        <div class="flex items-center gap-3">
          <img
            [src]="t.avatar"
            [alt]="t.name"
            class="w-10 h-10 rounded-full object-cover"
            loading="lazy"
            decoding="async"
          />
          <div>
            <h4 class="text-sm font-semibold text-[#2C2327]">
              {{ t.name }}
            </h4>
            <p class="text-xs text-gray-500">
              {{ t.role }}
            </p>
          </div>
        </div>
      </article>
    </ng-container>
  </div>

  <!-- Navigation buttons -->
  <div class="relative z-10 flex justify-center gap-4 mt-10">
    <button
      (click)="prevSlide()"
      class="w-10 h-10 flex items-center justify-center rounded-full 
             border border-gray-200 bg-white hover:bg-gray-100 shadow-sm 
             text-gray-600 text-lg transition focus:outline-none focus:ring-2 
             focus:ring-[#D4894E] focus:ring-offset-2"
      aria-label="Previous testimonial"
    >
      ‹
    </button>

    <button
      (click)="nextSlide()"
      class="w-10 h-10 flex items-center justify-center rounded-full 
             border border-gray-200 bg-white hover:bg-gray-100 shadow-sm 
             text-gray-600 text-lg transition focus:outline-none focus:ring-2 
             focus:ring-[#D4894E] focus:ring-offset-2"
      aria-label="Next testimonial"
    >
      ›
    </button>
  </div>

  <!-- Dots -->
  <div 
    class="relative z-10 flex justify-center mt-6 gap-3" 
    role="tablist" aria-label="Testimonial navigation dots">
    <button
      *ngFor="let t of testimonials; let i = index"
      (click)="goToSlide(i)"
      class="h-2 rounded-full transition-all duration-300 focus:outline-none focus:ring-2 focus:ring-[#D4894E]"
      [ngClass]="getDotClass(i)"
      [attr.aria-label]="'Go to testimonial ' + (i + 1)"
      [attr.aria-current]="currentIndex === i ? 'page' : undefined"
      role="tab"
    ></button>
  </div>
</section>
